;my.defineComponent || (my.defineComponent = Component);(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["components/affair"],{2208:function(t,e,n){"use strict";var a=n("f4fd"),i=n.n(a);i.a},"259a":function(t,e,n){"use strict";var a={"uni-load-more":()=>n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"a5ec"))},i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return a})},"9b1e":function(t,e,n){"use strict";n.r(e);var a=n("259a"),i=n("a277");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("2208");var o,s=n("f0c5"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);e["default"]=u.exports},a277:function(t,e,n){"use strict";n.r(e);var a=n("ab47"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},ab47:function(t,e,n){"use strict";(function(t){function a(t){return o(t)||r(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"a5ec"))},u=function(){return n.e("components/uni-fab/uni-fab").then(n.bind(null,"26b2"))},c={name:"messagepage",components:{uniLoadMore:s,uniFab:u},data:function(){return{barColor:this.barColor,bgColor:this.bgColor,affairs:[],ads:[],TabCur:"2",loadStatus:"more",defaultimg:this.defaultimg,onevent:"messageindex",currpage:"1",pagesize:"20",initpage:!1,scrollviewHeight:400}},mounted:function(){var e=this,n=t.createSelectorQuery().in(this),a=n.select("#datasview");a.boundingClientRect(function(t){var n=t.top;e.scrollviewHeight=e.phoneHeight-n-45}).exec();var i=new Object;i.type="诉求申请",this.$api.ADList(i,function(t){console.log("result===="+JSON.stringify(t)),t.success?e.ads=t.data:e.$common.errorToShow(t.message)}),this.initdatas(),t.$on(this.onevent,function(e){var n=e.updatetype;"pulldown"==n?(this.currpage=1,this.viewlist=[],this.initdatas(function(){t.stopPullDownRefresh()})):"pulldown"==n?(this.currpage=1,this.viewlist=[],this.initdatas(function(){t.stopPullDownRefresh()})):"affairs"==n&&(this.currpage=1,this.initdatas())}.bind(this))},methods:{tabSelect:function(t){this.TabCur=t.currentTarget.dataset.index,this.affairs=[],this.initdatas()},initdatas:function(t,e){var n=this,i=this.$common.getParams();i.currpage=this.currpage,i.pagesize=this.pagesize,i.type="",i.searchtype=this.TabCur,this.loadStatus="loading",console.log("searchtype==================="+JSON.stringify(i)),this.$api.affairs(i,function(i){console.log("result=============="+JSON.stringify(i)),i.success?(n.affairs="up"==e?[].concat(a(n.affairs),a(i.data)):i.data,n.pagesize<i.data.length?(n.loadStatus="more",n.currpage++):n.loadStatus="noMore",t&&t()):n.$common.errorToShow(i.message)})},postAffair:function(t){var e=new Object;e.onevent=this.onevent,this.$common.navigateTo("/pages/main/addAffair",e)},openEntry:function(t){var e=t.currentTarget.dataset.id,n=new Object;n.affairid=e,n.onevent=this.onevent,this.$common.navigateTo("/pages/affair/affair",n)},openAds:function(t){var e=t.currentTarget.dataset.isurl,n=t.currentTarget.dataset.url,a=new Object;if("1"==e)a.src=n,this.$common.navigateTo("/pages/notice/webview",a);else{var i=t.currentTarget.dataset.id;a.articleid=i,this.$common.navigateTo("/pages/notice/ads",a)}}}};e.default=c}).call(this,n("c11b")["default"])},f4fd:function(t,e,n){}}]);
;(my["webpackJsonp"] = my["webpackJsonp"] || []).push([
    'components/affair-create-component',
    {
        'components/affair-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('c11b')['createComponent'](__webpack_require__("9b1e"))
        })
    },
    [['components/affair-create-component']]
]);
